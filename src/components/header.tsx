import { addressToStr } from '@/hooks/address';
import { useEth } from '@/hooks/useeth';
import { Box, Typography } from '@mui/material';
import { Button } from 'antd';
import { useHistory, useLocation } from 'umi';

localStorage.wl = JSON.stringify([
  '0xB3A6C05c1b795b08c9Ed936478A244529EDA20C0',
  '0x8E999D2B74B1A1a29811622665D44bE4219A0831',
  '0x9c69821d06De9d411D4CE45d0f0133463EB0e827',
  '0x56d162d2f05DD8a37CDDeB36FB2Fe7a7cC3d20F0',
  '0xB9a2afFE25291b86CF8a4f0CFD97FdDB5dBB73e2',
  '0x71F66df108A0a5d5849531ebb7Ce9C1F5D209c0A',
  '0xaCD9875a763C1A2Ce97b073B65467c7B064C6fD9',
  '0xF79DDd3cAa5357B368d8Ecb0B5E7D0631E37246e',
  '0x9438ac0358a2c9654cb8cd5f3cc0465e524cc78b',
  '0xD2F2C55E9474db37A238CA4CAB112e62d60E2921',
]);

export const Header = () => {
  const history = useHistory();
  const { pathname } = useLocation();
  const { address, connect } = useEth();
  const wl: string[] = (
    localStorage.getItem('wl')
      ? JSON.parse(localStorage.getItem('wl') as string)
      : []
  ).map((e: string) => e.toLocaleLowerCase());
  const isWl = wl.includes(address?.toLocaleLowerCase() ?? '');
  return (
    <Box>
      <Box
        sx={{
          background: '#fff',
          p: '20px 20px',
          display: 'flex',
          justifyContent: 'space-between',
          alignItems: 'center',
          gap: '20px',
        }}
      >
        <Box sx={{ display: 'flex', gap: '20px', alignItems: 'center' }}>
          <Typography
            component="h1"
            sx={{
              cursor: 'pointer',
              backgroundImage: 'linear-gradient(to right, orange, purple)',
              // '-webkit-background-clip': 'text',
              WebkitBackgroundClip: 'text',
              color: 'transparent',
            }}
            onClick={() => {
              history.replace('/');
            }}
          >
            IERC-20 (Beta)
          </Typography>
          <Box
            sx={{
              display: 'flex',
              alignItems: 'center',
              gap: '4px',
              ml: '40px',
            }}
          >
            {[
              {
                t: 'Search',
                link: '/balance',
                icon: (
                  <svg
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="200"
                    height="200"
                  >
                    <path
                      d="M763.221333 702.848L981.333333 921.002667 921.002667 981.333333l-218.154667-218.112A403.626667 403.626667 0 0 1 448 853.333333a405.333333 405.333333 0 1 1 405.333333-405.333333 403.626667 403.626667 0 0 1-90.112 254.848zM448 768a320 320 0 1 0 0-640 320 320 0 0 0 0 640z"
                      fill="currentColor"
                    ></path>
                  </svg>
                ),
              },
              {
                t: 'Deploy',
                link: '/deploy',
                icon: (
                  <svg
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    width="200"
                    height="200"
                  >
                    <path
                      d="M659.655431 521.588015q23.970037-6.71161 46.022472-13.423221 19.17603-5.752809 39.310861-11.505618t33.558052-10.546816l-13.423221 50.816479q-5.752809 21.093633-10.546816 31.640449-9.588015 25.88764-22.531835 47.940075t-24.449438 38.35206q-13.423221 19.17603-27.805243 35.475655l-117.932584 35.475655 96.838951 17.258427q-19.17603 16.299625-41.228464 33.558052-19.17603 14.382022-43.625468 30.202247t-51.29588 29.243446-59.925094 13.902622-62.801498-4.314607q-34.516854-4.794007-69.033708-16.299625 10.546816-16.299625 23.011236-36.434457 10.546816-17.258427 25.40824-40.749064t31.161049-52.254682q46.022472-77.662921 89.168539-152.449438t77.662921-135.191011q39.310861-69.992509 75.745318-132.314607-45.06367 51.775281-94.921348 116.014981-43.146067 54.651685-95.88015 129.917603t-107.385768 164.434457q-11.505618 18.217228-25.88764 42.187266t-30.202247 50.816479-32.599251 55.131086-33.078652 55.131086q-38.35206 62.322097-78.621723 130.397004 0.958801-20.134831 7.670412-51.775281 5.752809-26.846442 19.17603-67.116105t38.35206-94.921348q16.299625-34.516854 24.928839-53.692884t13.423221-29.722846q4.794007-11.505618 7.670412-15.340824-4.794007-5.752809-1.917603-23.011236 1.917603-15.340824 11.026217-44.58427t31.161049-81.977528q22.052434-53.692884 58.007491-115.535581t81.018727-122.726592 97.797753-117.932584 107.865169-101.153558 110.262172-72.389513 106.906367-32.11985q0.958801 33.558052-6.71161 88.689139t-19.17603 117.932584-25.88764 127.520599-27.805243 117.453184z"
                      fill="currentColor"
                    ></path>
                  </svg>
                ),
              },
              {
                t: 'IERC-20',
                link: '/',
                icon: (
                  <svg
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="9588"
                    width="200"
                    height="200"
                  >
                    <path
                      d="M170.666667 256a128 128 0 0 1 128-128h42.666666v85.333333H298.666667a42.666667 42.666667 0 0 0-42.666667 42.666667v170.666667a128 128 0 0 1-128 128v-85.333334a42.666667 42.666667 0 0 0 42.666667-42.666666V256z"
                      fill="currentColor"
                    ></path>
                    <path
                      d="M256 597.333333a128 128 0 0 0-128-128H85.333333v85.333334h42.666667a42.666667 42.666667 0 0 1 42.666667 42.666666v170.666667a128 128 0 0 0 128 128v-85.333333a42.666667 42.666667 0 0 1-42.666667-42.666667v-170.666667zM853.333333 256a128 128 0 0 0-128-128h-42.666666v85.333333h42.666666a42.666667 42.666667 0 0 1 42.666667 42.666667v170.666667a128 128 0 0 0 128 128v-85.333334a42.666667 42.666667 0 0 1-42.666667-42.666666V256z"
                      fill="currentColor"
                    ></path>
                    <path
                      d="M768 597.333333a128 128 0 0 1 128-128h42.666667v85.333334h-42.666667a42.666667 42.666667 0 0 0-42.666667 42.666666v170.666667a128 128 0 0 1-128 128v-85.333333a42.666667 42.666667 0 0 0 42.666667-42.666667v-170.666667z"
                      fill="currentColor"
                    ></path>
                  </svg>
                ),
              },
              {
                t: 'Market',
                link: '/market',
                disabled: false,
                icon: (
                  <svg
                    viewBox="0 0 1024 1024"
                    version="1.1"
                    xmlns="http://www.w3.org/2000/svg"
                    p-id="8712"
                    width="200"
                    height="200"
                  >
                    <path
                      d="M873.411765 219.858824h-153.6c-15.058824-120.470588-102.4-180.705882-207.811765-180.705883s-192.752941 60.235294-207.811765 180.705883H150.588235l-60.235294 783.058823h843.294118l-60.235294-783.058823z m-361.411765-120.470589c72.282353 0 132.517647 30.117647 147.576471 120.470589h-295.152942c15.058824-90.352941 75.294118-120.470588 147.576471-120.470589z m-355.388235 843.294118l51.2-662.588235h608.37647l51.2 662.588235H156.611765z"
                      fill="currentColor"
                    ></path>
                  </svg>
                ),
              },
            ].map(({ t, link, icon, disabled }, index) => {
              return (
                <Box
                  key={t}
                  sx={{
                    display: 'flex',
                    position: 'relative',
                    svg: {
                      width: '16px',
                      height: '16px',
                      mr: '5px',
                    },
                  }}
                >
                  <Button
                    // component="h1"
                    type="text"
                    style={{
                      cursor: 'pointer',
                      color: disabled
                        ? 'rgba(0,0,0,0.1)'
                        : pathname === link
                        ? '#1677ff'
                        : 'rgba(0,0,0,0.7)',
                      display: 'flex',
                      alignItems: 'center',
                      fontSize: '16px',
                    }}
                    disabled={disabled}
                    onClick={() => {
                      history.push(link);
                    }}
                  >
                    {icon}
                    {t}
                  </Button>
                  {index !== 0 && (
                    <Box
                      sx={{
                        position: 'absolute',
                        top: '50%',
                        left: '-2px',
                        height: '1.2em',
                        width: '1px',
                        background: 'rgba(0,0,0,0.3)',
                        transform: 'translate(0px, -50%)',
                      }}
                    ></Box>
                  )}
                </Box>
              );
            })}
          </Box>

          <a
            href="https://github.com/peoplecoin00/terc20#readme"
            target="_blank"
            style={{ marginLeft: '5px', position: 'relative', top: '2px' }}
          >
            <svg
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
            >
              <path
                fill="#ddd"
                d="M855.557 216.855c35.621-66.153-5.089-152.661-5.089-152.661-91.597 0-157.75 61.064-157.75 61.064-35.621-20.355-152.661-20.355-152.661-20.355s-117.04 0-152.661 20.355c0 0-66.153-61.064-157.75-61.064 0 0-40.71 86.508-5.089 152.661 0 0-81.419 76.331-50.887 239.169 28.691 153.018 162.838 193.371 249.346 193.371 0 0-35.621 30.532-30.532 81.419 0 0-50.887 30.532-101.774 10.177s-76.331-71.242-76.331-71.242-50.887-66.153-101.774-40.71c0 0-15.266 15.266 40.71 40.71 0 0 40.71 61.064 55.976 96.685 15.266 35.621 96.685 66.153 178.105 45.798v117.04s0 10.177-20.355 15.266-20.355 15.266-10.177 15.266H723.25c10.177 0 10.177-10.177-10.177-15.266-20.355-5.089-20.355-15.266-20.355-15.266v-117.04s0.447-61.03 0-81.419c-1.119-51.128-35.621-81.419-35.621-81.419 86.508 0 220.655-40.353 249.346-193.371 30.533-162.837-50.886-239.168-50.886-239.168z"
              ></path>
            </svg>
          </a>
          <a
            href="https://docs.ethinsc.xyz/"
            target="_blank"
            style={{ marginLeft: '5px', position: 'relative', top: '2px' }}
          >
            <svg
              viewBox="0 0 1000 1000"
              preserveAspectRatio="xMidYMid meet"
              width="25"
              height="25"
            >
              <path
                fillRule="evenodd"
                clipRule="evenodd"
                d="M562.168 159.724l325.95 162.727c15.062 7.519 15.298 28.898.404 36.746L465.19 582.283a82.875 82.875 0 01-75.639.83L123.74 450.409c-32.376-12.972-68.568 10.748-68.568 46.474 0 28.728 16.256 54.991 41.99 67.839l266.48 133.036c16.267-16.537 38.918-26.795 63.967-26.795 24.334 0 46.404 9.68 62.558 25.394L822.075 521.45a89.893 89.893 0 01-1.385-15.755c0-49.44 40.14-89.519 89.655-89.519S1000 456.255 1000 505.695c0 49.439-40.14 89.518-89.655 89.518-24.21 0-46.178-9.581-62.31-25.153L515.94 745.065a90.036 90.036 0 011.324 15.417c0 49.439-40.14 89.518-89.655 89.518s-89.655-40.079-89.655-89.518c0-4.572.343-9.063 1.006-13.451L68.622 612.068C26.566 591.072 0 548.153 0 501.205v-26.15c0-35.755 19.82-68.574 51.49-85.261l435.039-229.24a82.87 82.87 0 0175.639-.83zM427.609 794.912c19.044 0 34.483-15.415 34.483-34.43 0-19.016-15.439-34.431-34.483-34.431-19.044 0-34.482 15.415-34.482 34.431 0 19.015 15.438 34.43 34.482 34.43zm517.219-289.217c0 19.015-15.438 34.43-34.483 34.43-19.044 0-34.482-15.415-34.482-34.43s15.438-34.43 34.482-34.43c19.045 0 34.483 15.415 34.483 34.43z"
                fill="#ddd"
              ></path>
            </svg>
          </a>
          <a
            href="https://discord.gg/d3sFVr4T"
            target="_blank"
            style={{ marginLeft: '5px', position: 'relative', top: '2px' }}
          >
            <svg
              viewBox="0 0 1280 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="25"
              height="25"
            >
              <path
                fill="#ddd"
                d="M1049.062 139.672a3 3 0 0 0-1.528-1.4A970.13 970.13 0 0 0 808.162 64.06a3.632 3.632 0 0 0-3.846 1.82 674.922 674.922 0 0 0-29.8 61.2 895.696 895.696 0 0 0-268.852 0 619.082 619.082 0 0 0-30.27-61.2 3.78 3.78 0 0 0-3.848-1.82 967.378 967.378 0 0 0-239.376 74.214 3.424 3.424 0 0 0-1.576 1.352C78.136 367.302 36.372 589.38 56.86 808.708a4.032 4.032 0 0 0 1.53 2.75 975.332 975.332 0 0 0 293.65 148.378 3.8 3.8 0 0 0 4.126-1.352A696.4 696.4 0 0 0 416.24 860.8a3.72 3.72 0 0 0-2.038-5.176 642.346 642.346 0 0 1-91.736-43.706 3.77 3.77 0 0 1-0.37-6.252 502.094 502.094 0 0 0 18.218-14.274 3.638 3.638 0 0 1 3.8-0.512c192.458 87.834 400.82 87.834 591 0a3.624 3.624 0 0 1 3.848 0.466 469.066 469.066 0 0 0 18.264 14.32 3.768 3.768 0 0 1-0.324 6.252 602.814 602.814 0 0 1-91.78 43.66 3.75 3.75 0 0 0-2 5.222 782.11 782.11 0 0 0 60.028 97.63 3.728 3.728 0 0 0 4.126 1.4A972.096 972.096 0 0 0 1221.4 811.458a3.764 3.764 0 0 0 1.53-2.704c24.528-253.566-41.064-473.824-173.868-669.082zM444.982 675.16c-57.944 0-105.688-53.174-105.688-118.478s46.818-118.482 105.688-118.482c59.33 0 106.612 53.64 105.686 118.478 0 65.308-46.82 118.482-105.686 118.482z m390.76 0c-57.942 0-105.686-53.174-105.686-118.478s46.818-118.482 105.686-118.482c59.334 0 106.614 53.64 105.688 118.478 0 65.308-46.354 118.482-105.688 118.482z"
              ></path>
            </svg>
          </a>
          <a
            href="https://twitter.com/EthinscXYZ"
            target="_blank"
            style={{ marginLeft: '5px', position: 'relative', top: '2px' }}
          >
            <svg
              viewBox="0 0 1024 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              width="20"
              height="20"
            >
              <path
                d="M919.759462 318.994613c0-9.605475-0.184234-19.102577-0.608696-28.534655 41.060787-30.595551 76.68666-68.894629 104.863684-112.720738a403.247526 403.247526 0 0 1-120.68436 33.017692c43.401647-26.708567 76.68666-69.423851 92.415219-120.68436-40.638132 24.645865-85.589515 42.265535-133.383889 51.446549-38.295465-43.575045-92.944441-71.329413-153.358869-72.360764-116.027926-1.918205-210.084998 96.132418-210.084999 218.973404 0 17.460724 1.826088 34.394031 5.451171 50.745736-174.722834-11.243716-329.55016-102.190479-433.116978-239.293373-18.071226 32.847907-28.438925 71.237296-28.438925 112.377556 0 77.811934 37.090717 146.970271 93.44657 187.779994-34.500598-1.560574-66.819283-12.009553-95.166091-29.141545v2.85744c0 108.752474 72.440238 199.870827 168.560013 221.13003-17.621477 5.012259-36.207475 7.62044-55.322696 7.526516a191.542349 191.542349 0 0 1-39.500214-4.325895c26.708567 89.120675 104.332655 154.231274 196.231295 156.400543-71.923659 59.635948-162.525433 95.258208-260.892145 95.00895-16.960401 0-33.720311-1.137918-50.15149-3.200621 93.011271 63.80109 203.418242 100.960443 322.104923 100.960443 386.350343 0.092117 597.636477-336.191629 597.636477-627.962902z"
                fill="#ddd"
              ></path>
            </svg>
          </a>
        </Box>
        <Box>
          {address ? (
            <Button
              type="text"
              onClick={() => {
                history.push('/balance/' + address);
              }}
            >
              {addressToStr(address)}
            </Button>
          ) : (
            <Button onClick={connect}>Connect Wallet</Button>
          )}
        </Box>
      </Box>
    </Box>
  );
};
